<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> BASE </title>
    <style>
        body {
    background-color: #f2f2f2;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    margin-top: 70px; /* 헤더의 높이만큼 내용을 아래로 밀어줍니다. */
        }


header {
    background-color: #004687;
    color: #fff;
    padding: 20px;
    text-align: right; /* 텍스트를 오른쪽 정렬 */

}


.title-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
}


.title-bar h1 {
    margin: 0;
}


nav {
    background-color: #002D64;
    padding: 10px;
    text-align: center;

    
}


nav ul {
    list-style-type: none;
    margin: 0 auto; /* 가운데 정렬 */
    padding: 0;
}


nav ul li {
    display: inline;
    margin-right: 10px;
}


nav ul li a {
    color: #fff;
    text-decoration: none;
    padding: 5px 10px;
}


nav ul li a:hover {
    background-color: #66A7FF;
}


/* 추가된 CSS */
.login-button,
.signup-button {
    background-color: #007bff;
    border: none;
    color: white;
    padding: 8px 20px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
}


.login-button:hover,
.signup-button:hover {
    background-color: #0056b3;
}


/* 메인 콘텐츠 및 푸터는 이전과 동일하게 유지됩니다. */
.main-content {
    padding: 20px;
}


.article {
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
}


.article h2 {
    color: #004687;
}


.article p {
    color: #333;
}


footer {
    background-color: #004687;
    color: #fff;
    padding: 50px;
    text-align: center;
    
}
        /* 스타일 추가 */
        .calendar {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: #fff;
        }

        .month {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        .weekdays, .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            margin-bottom: 10px;
        }

        .prev, .next {
            cursor: pointer;
            user-select: none;
        }

        .prev-date, .next-date, .today {
            color: #bbb;
        }

        .today {
            background-color: #ffeb3b;
            border-radius: 50%;
        }
    </style>
</head>
<body>

<header>
    <div class="title-bar">
        <h1>BASE</h1>
        <!-- 로그인 및 회원가입 버튼 추가 로그인 시 db에 저장된 이름 + 환영합니다, 로그아웃-->
        <div class="user-info">
            <% if (isLoggedIn) { %>
                <span><%= userName %> 환영합니다!</span>
                <a href="/logout" class="logout-button">로그아웃</a>
              <% } else { %>
                <a href="/login" class="login-button">로그인</a>
                <a href="/signup" class="signup-button">회원가입</a>
              <% } %>
        </div>
        <% if (isLoggedIn) { %>
        <a href="/chat-list">채팅방 목록</a>
        <% } %>
    </div>
</header>


<nav>
    <ul>
        <li><a href="#">홈</a></li>
        <li><a href="/ranking">순위</li>
        <li><a href="/schedule">경기 일정</a></li>
        <li><a href="/write">티켓 판매 게시판</a></li>
        <li><a href="/my_info">나의 정보</a></li>
    </ul>
</nav>


<div class="main-content">
    <!-- 로그인 시 db에 저장된 좋아하는 팀 순위를 메인 페이지에 출력 -->
    <% if (teamRanking) { %>
        <div class="favorite-team-ranking">
            <h2>좋아하는 팀 순위</h2>
            <p>순위: <%= teamRanking.rank %></p>
            <p>팀: <%= teamRanking.team %></p>
            <p>승: <%= teamRanking.wins %></p>
            <p>패: <%= teamRanking.losses %></p>
            <p>승률: <%= teamRanking.winningPercentage %></p>
        </div>
    <% } %>
</div>
    <div class="article">
        <h2>다가오는 일정</h2>
        <div class="calendar">
            <div class="month">
                <button class="prev">&#10094;</button>
                <div class="date">
                    <h1></h1>
                    <p></p>
                </div>
                <button class="next">&#10095;</button>
            </div>
            <div class="weekdays">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            <div class="days"></div>
        </div>
    </div>
</div>


<footer>
    <p>&copy; 2024 야구 홈페이지. BASE WEB.</p>
</footer>

<script>
    const date = new Date();
    
    const renderCalendar = () => {
        date.setDate(1);

        const monthDays = document.querySelector('.days');

        const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
        const prevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate();
        const firstDayIndex = date.getDay();
        const lastDayIndex = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay();
        const nextDays = 7 - lastDayIndex - 1;

        const months = [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December"
        ];

        document.querySelector('.date h1').innerHTML = months[date.getMonth()] + " " + date.getFullYear();
        document.querySelector('.date p').innerHTML = new Date().toDateString();

        let days = "";

        for (let x = firstDayIndex; x > 0; x--) {
            days += `<div class="prev-date">${prevLastDay - x + 1}</div>`;
        }

        for (let i = 1; i <= lastDay; i++) {
            if (i === new Date().getDate() && date.getMonth() === new Date().getMonth() && date.getFullYear() === new Date().getFullYear()) {
                days += `<div class="today">${i}</div>`;
            } else {
                days += `<div>${i}</div>`;
            }
        }

        for (let j = 1; j <= nextDays; j++) {
            days += `<div class="next-date">${j}</div>`;
        }

        monthDays.innerHTML = days;
    };

    document.querySelector('.prev').addEventListener('click', () => {
        date.setMonth(date.getMonth() - 1);
        renderCalendar();
    });

    document.querySelector('.next').addEventListener('click', () => {
        date.setMonth(date.getMonth() + 1);
        renderCalendar();
    });

    renderCalendar();
</script>

</body>
</html>